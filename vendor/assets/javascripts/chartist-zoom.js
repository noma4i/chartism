!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.returnExportsGlobal=b()}):"object"==typeof exports?module.exports=b():a["Chartist.plugins.zoom"]=b()}(this,function(){return function(a,b,c){"use strict";function d(a){a.attr({style:"display:none"})}function e(a){a.attr({style:"display:block"})}function f(a,b){var c=a.x,d=a.y,e=b.x-c,f=b.y-d;return 0>e&&(e=-e,c=b.x),0>f&&(f=-f,d=b.y),{x:c,y:d,width:e,height:f}}function g(a,b){var c=a.layerX,d=a.layerY;return h(c,d,b)}function h(a,b,c,d){c=c;var e="svg"===c.tagName?c:c.ownerSVGElement,f=d?c.getScreenCTM():c.getCTM(),g=e.createSVGPoint();return g.x=a,g.y=b,g=g.matrixTransform(f.inverse()),g||{x:0,y:0}}function i(a,b){var c=b.bounds.max,d=b.bounds.min;if(b.scale&&"log"===b.scale.type){var e=b.scale.base;return Math.pow(e,a*j(c/d,e)/b.axisLength)*d}return a*b.bounds.range/b.axisLength+d}function j(a,b){return Math.log(a)/Math.log(b)}var k={};c.plugins=c.plugins||{},c.plugins.zoom=function(a){return a=c.extend({},k,a),function(b){function j(a){var b=h(a.pageX,a.pageY,v,!0);return b.id=a.identifier,b}function k(a){for(var b=0;b<B.length;b++){var c=B[b].id;if(c===a)return b}return-1}function l(a){a.preventDefault();for(var b=a.changedTouches,c=0;c<b.length;c++)B.push(j(b[c]));B.length>1&&(u.attr(f(B[0],B[1])),e(u))}function m(a){for(var b=a.changedTouches,c=0;c<b.length;c++){var d=k(b[c].identifier);B.splice(d,1,j(b[c]))}B.length>1&&(u.attr(f(B[0],B[1])),e(u))}function n(a){a.preventDefault(),o(a.changedTouches)}function o(a){for(var b=0;b<a.length;b++){var c=k(a[b].identifier);c>=0&&B.splice(c,1)}}function p(a){a.preventDefault(),B.length>1&&s(f(B[0],B[1])),o(a.changedTouches),d(u)}function q(a){0===a.button&&(z=g(a,v),u.attr(f(z,z)),e(u),a.preventDefault())}function r(b){if(0===b.button){var c=f(z,g(b,v));s(c),z=null,d(u),b.preventDefault()}else a.resetOnRightMouseBtn&&2===b.button&&(C(),b.preventDefault())}function s(a){if(a.width>5&&a.height>5){var c=a.x-y.x1,d=c+a.width,e=y.y1-a.y,f=e-a.height;b.options.axisX.highLow={low:i(c,w),high:i(d,w)},b.options.axisY.highLow={low:i(f,x),high:i(e,x)},b.update(b.data,b.options),A&&A(b,C)}}function t(a){if(z){var b=g(a,v);u.attr(f(z,b)),a.preventDefault()}}if(b instanceof c.Line){var u,v,w,x,y,z,A=a.onZoom,B=[];b.on("draw",function(a){var b=a.type;("line"===b||"bar"===b||"area"===b||"point"===b)&&a.element.attr({"clip-path":"url(#zoom-mask)"})}),b.on("created",function(a){w=a.axisX,x=a.axisY,y=a.chartRect,v=a.svg._node,u=a.svg.elem("rect",{x:10,y:10,width:100,height:100},"ct-zoom-rect"),d(u);var b=a.svg.querySelector("defs")||a.svg.elem("defs"),c=y.width(),e=y.height();b.elem("clipPath",{id:"zoom-mask"}).elem("rect",{x:y.x1,y:y.y2,width:c,height:e,fill:"white"}),v.addEventListener("mousedown",q),v.addEventListener("mouseup",r),v.addEventListener("mousemove",t),v.addEventListener("touchstart",l),v.addEventListener("touchmove",m),v.addEventListener("touchend",p),v.addEventListener("touchcancel",n)});var C=function(){b.options.axisX.highLow=null,b.options.axisY.highLow=null,b.update(b.data,b.options)}}}}}(window,document,Chartist),Chartist.plugins.zoom});
//# sourceMappingURL=chartist-plugin-zoom.min.js.map